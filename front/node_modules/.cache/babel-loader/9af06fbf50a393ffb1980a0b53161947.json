{"ast":null,"code":"var _jsxFileName = \"/Users/tengizusupov/Documents/KursIT/front/src/pages/Create.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Redirect } from \"react-router-dom\";\nimport M from \"materialize-css\";\nexport default function Create(props) {\n  const {\n    auth\n  } = props;\n  const [news, setNews] = useState({\n    title: \"\",\n    type: \"\",\n    body: \"\"\n  });\n  useEffect(() => {\n    M.AutoInit();\n    M.updateTextFields();\n  }, []);\n\n  const handleSubmit = async e => {\n    const {\n      title,\n      type,\n      body\n    } = news;\n    if (!title || !type || !body) return;\n\n    try {\n      const res = await axios.post('/news/add', news);\n      console.log(res);\n      setNews({\n        title: \"\",\n        type: \"\",\n        body: \"\"\n      });\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const handleInput = e => {\n    setNews({ ...news,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  if (!auth.creator) return /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/news\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 28\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"col s12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-field col s12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons prefix\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }, \"assignment_late\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"title\",\n    name: \"title\",\n    type: \"text\",\n    className: \"validate\",\n    value: news.title,\n    onChange: handleInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }, \"\\u0417\\u0430\\u0433\\u043E\\u043B\\u043E\\u0432\\u043E\\u043A...\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-field col s12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons prefix\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, \"assignment_turned_in\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"type\",\n    value: news.type,\n    onChange: handleInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 10\n    }\n  }, \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0435\\u0442\\u0435 \\u0442\\u0435\\u043C\\u0443...\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\\u0421\\u043F\\u043E\\u0440\\u0442\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 10\n    }\n  }, \"\\u0421\\u043F\\u043E\\u0440\\u0442\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\\u041D\\u0430\\u0443\\u043A\\u0430\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 10\n    }\n  }, \"\\u041D\\u0430\\u0443\\u043A\\u0430\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\\u041E\\u0431\\u0440\\u0430\\u0437\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 10\n    }\n  }, \"\\u041E\\u0431\\u0440\\u0430\\u0437\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\")), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 8\n    }\n  }, \"\\u0422\\u0435\\u043C\\u0430\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-field col s12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons prefix\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, \"assignment\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    id: \"body\",\n    name: \"body\",\n    className: \"materialize-textarea\",\n    value: news.body,\n    onChange: handleInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, \"\\u0422\\u0435\\u043B\\u043E \\u043D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0438...\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col s12 center-align\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn\",\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\", /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 6\n    }\n  }, \"cloud\")))));\n}","map":{"version":3,"sources":["/Users/tengizusupov/Documents/KursIT/front/src/pages/Create.js"],"names":["React","useState","useEffect","axios","Redirect","M","Create","props","auth","news","setNews","title","type","body","AutoInit","updateTextFields","handleSubmit","e","res","post","console","log","handleInput","target","name","value","creator"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport axios from \"axios\";\nimport { Redirect } from \"react-router-dom\";\nimport M from \"materialize-css\";\n\nexport default function Create(props) {\n\tconst {auth} = props\n\tconst [news, setNews] = useState({title: \"\", type: \"\", body:\"\"})\n\n\tuseEffect(()=>{\n\t\tM.AutoInit()\n\t\tM.updateTextFields()\n\t},[])\n\n\tconst handleSubmit = async (e) => {\n\t\tconst {title, type, body} = news\n\t\tif (!title || !type || !body) return\n\t\ttry {\n\t\t\tconst res = await axios.post('/news/add',news)\n\t\t\tconsole.log(res)\n\t\t\tsetNews({title: \"\", type: \"\", body:\"\"})\n\t\t} catch(e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t}\n\n\tconst handleInput = (e) => {\n\t\tsetNews({...news, [e.target.name]: e.target.value})\n\t}\n\tif (!auth.creator) return(<Redirect to=\"/news\"/>)\n\treturn(<div className=\"container\">\n\t\t<div className=\"row\">\n\t\t  <form className=\"col s12\">\n\t\t    <div className=\"row\">\n\t\t      <div className=\"input-field col s12\">\n          \t\t<i className=\"material-icons prefix\">assignment_late</i>\n\t\t        <input \n\t\t        id=\"title\" \n\t\t        name=\"title\"\n\t\t        type=\"text\" \n\t\t        className=\"validate\"\n\t\t        value={news.title} \n\t\t        onChange={handleInput}\n\t\t        />\n\t\t        <label htmlFor=\"title\">Заголовок...</label>\n\t\t      </div>\n\n\t\t\t  <div className=\"input-field col s12\">\n          \t\t<i className=\"material-icons prefix\">assignment_turned_in</i>\n\t\t\t    <select \n\t\t\t    name=\"type\"\n\t\t\t    value={news.type} \n\t\t\t    onChange={handleInput}\n\t\t\t    >\n\t\t\t      <option value=\"\">Выберете тему...</option>\n\t\t\t      <option value=\"Спорт\">Спорт</option>\n\t\t\t      <option value=\"Наука\">Наука</option>\n\t\t\t      <option value=\"Образование\">Образование</option>\n\t\t\t    </select>\n\t\t\t    <label>Тема</label>\n\t\t\t  </div>\n\n\t\t      <div className=\"input-field col s12\">\n          \t\t<i className=\"material-icons prefix\">assignment</i>\n\t\t        <textarea \n\t\t        id=\"body\" \n\t\t        name=\"body\" \n\t\t        className=\"materialize-textarea\"\n\t\t        value={news.body} \n\t\t        onChange={handleInput}\n\t\t        />\n\t\t        <label htmlFor=\"body\">Тело новости...</label>\n\t\t      </div>\n\t\t    </div>\n\t\t  </form>\n\t\t\t<div className=\"col s12 center-align\">\n\t\t\t\t<button className=\"btn\" onClick={handleSubmit}>\n\t\t\t\t\tДобавить\n\t\t\t\t\t<i className=\"material-icons right\">cloud</i>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t\t</div>)\n}"]},"metadata":{},"sourceType":"module"}