{"ast":null,"code":"var _jsxFileName = \"/Users/tengizusupov/Documents/KursIT/front/src/pages/SavedNews.js\";\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport axios from \"axios\";\nexport default function SavedNews(props) {\n  const {\n    loader,\n    auth\n  } = props;\n  const [loading, setLoading] = useState(true);\n  const [news, setNews] = useState([]);\n  const fetchData = useCallback(async () => {\n    try {\n      const res = await axios.get(\"/saved/\" + auth.id);\n      console.log(res.data);\n      setNews(res.data);\n      setLoading(false);\n    } catch (e) {\n      console.log(e);\n    }\n  }, [auth.id]);\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  const handleBookmark = async (e, id) => {\n    e.preventDefault();\n\n    try {\n      const res = await axios.post(\"/saved/delete\", {\n        _id: id\n      });\n      console.log(res);\n      fetchData();\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  if (loading) return loader;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 3\n    }\n  }, news.map(element => {\n    const news = element.news;\n    const id = element._id;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col s12 m6 z-depth-4\",\n      key: id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card blue-grey darken-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-content white-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"card-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 16\n      }\n    }, news.title), /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 16\n      }\n    }, news.type)), news.body.split('\\n').map((e, num) => /*#__PURE__*/React.createElement(\"p\", {\n      key: num,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 52\n      }\n    }, e))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-action\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/\",\n      onClick: e => handleBookmark(e, id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 10\n      }\n    }, \"\\u0423\\u0431\\u0440\\u0430\\u0442\\u044C \\u0438\\u0437 \\u0437\\u0430\\u043A\\u043B\\u0430\\u0434\\u043E\\u043A\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 10\n      }\n    }, \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u043D\\u043E: \", news.updatedAt.slice(0, 10)))));\n  }));\n}","map":{"version":3,"sources":["/Users/tengizusupov/Documents/KursIT/front/src/pages/SavedNews.js"],"names":["React","useState","useEffect","useCallback","axios","SavedNews","props","loader","auth","loading","setLoading","news","setNews","fetchData","res","get","id","console","log","data","e","handleBookmark","preventDefault","post","_id","map","element","title","type","body","split","num","updatedAt","slice"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useCallback} from \"react\";\nimport axios from \"axios\";\n\nexport default function SavedNews(props) {\n\tconst {loader, auth} = props\n\tconst [loading, setLoading] = useState(true)\n\tconst [news, setNews] = useState([])\n\n\tconst fetchData = useCallback(async ()=>{\n\t\ttry {\n\t\t\tconst res = await axios.get(\"/saved/\"+auth.id)\n\t\t\tconsole.log(res.data)\n\t\t\tsetNews(res.data)\n\t\t\tsetLoading(false)\n\t\t} catch(e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t}, [auth.id])\n\n\tuseEffect(()=>{\n\t\tfetchData()\n\t}, [fetchData])\n\n\tconst handleBookmark = async (e, id) => {\n\t\te.preventDefault()\n\t\ttry {\n\t\t\tconst res = await axios.post(\"/saved/delete\", {_id: id})\n\t\t\tconsole.log(res)\n\t\t\tfetchData()\n\t\t} catch(e) {\n\t\t\tconsole.log(e)\n\t\t}\t\t\n\t}\n\n\tif (loading) return(loader)\n\treturn(\n\t\t<div className=\"container\">\n\t\t{\n\t\t\tnews.map(element=>{\n\t\t\t\t\t\t\tconst news = element.news\n\t\t\t\t\t\t\tconst id = element._id\n\t\t\t\t\t\t\treturn <div className=\"col s12 m6 z-depth-4\" key={id}>\n\t\t\t\t\t\t\t  <div className=\"card blue-grey darken-1\">\n\t\t\t\t\t\t\t    <div className=\"card-content white-text\">\n\t\t\t\t\t\t\t      \t<span className=\"card-title\">\n\t\t\t\t\t\t\t       \t<h2>{news.title}</h2>\n\t\t\t\t\t\t\t       \t<h5>{news.type}</h5>\n\t\t\t\t\t\t\t       \t</span>\n\t\t\t\t\t\t\t      \t{news.body.split('\\n').map((e, num)=><p key={num}>{e}</p>)}\n\t\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t\t    <div className=\"card-action\">\n\t\t\t\t\t\t\t\t\t<a href=\"/\" onClick={(e)=>handleBookmark(e, id)}>Убрать из закладок</a>\n\t\t\t\t\t\t\t\t\t<p>Создано: {news.updatedAt.slice(0, 10)}</p>\n\t\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t\t</div>})\n\t\t}\n\t\t</div>\n\t)\n}"]},"metadata":{},"sourceType":"module"}