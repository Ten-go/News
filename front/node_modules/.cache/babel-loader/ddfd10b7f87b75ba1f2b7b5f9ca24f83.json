{"ast":null,"code":"var _jsxFileName = \"/Users/tengizusupov/Documents/KursIT/front/src/pages/Login.js\";\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nexport default function Login(props) {\n  const {\n    login\n  } = props;\n  const [toLogin, setToLogin] = useState(true);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 9\n    }\n  }, toLogin ? /*#__PURE__*/React.createElement(SubLogin, {\n    toRegister: () => setToLogin(false),\n    login: login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 7\n    }\n  }) : /*#__PURE__*/React.createElement(SubRegister, {\n    toLogin: () => setToLogin(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 7\n    }\n  }));\n}\n\nfunction SubLogin(props) {\n  const {\n    toRegister,\n    login\n  } = props;\n  const [username, setUsername] = useState(\"\");\n\n  const handleLogin = async e => {\n    e.preventDefault();\n    const res = await axios.post(\"/users/login\", {\n      username\n    });\n    const auth = res.data;\n    if (auth) login(auth._id, auth.creator);\n  };\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    className: \"col s12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-field row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"input-field col s12\",\n    type: \"text\",\n    id: \"username\",\n    value: username,\n    onChange: e => setUsername(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, \"\\u041B\\u043E\\u0433\\u0438\\u043D...\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col s1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn waves-effect waves-light\",\n    onClick: e => handleLogin(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 8\n    }\n  }, \"\\u0412\\u043E\\u0439\\u0442\\u0438\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col s1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn waves-effect waves-light\",\n    onClick: e => toRegister(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 8\n    }\n  }, \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"))));\n}\n\nfunction SubRegister(props) {\n  const {\n    toLogin\n  } = props;\n  const [username, setUsername] = useState(\"\");\n  const [creator, setCreator] = useState(false);\n\n  const handleRegister = async e => {\n    e.preventDefault();\n    await axios.post(\"/users/register\", {\n      username,\n      creator\n    });\n    toLogin();\n  };\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    className: \"col s12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-field row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"input-field col s12\",\n    type: \"text\",\n    id: \"username\",\n    value: username,\n    onChange: e => setUsername(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, \"\\u041B\\u043E\\u0433\\u0438\\u043D...\")), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    value: creator,\n    onClick: _ => setCreator(e => !e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u043E\\u0440\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col s2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn waves-effect waves-light\",\n    onClick: e => handleRegister(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 8\n    }\n  }, \"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0435\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col s2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn waves-effect waves-light\",\n    onClick: e => toLogin(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 8\n    }\n  }, \"\\u041D\\u0430\\u0437\\u0430\\u0434\"))));\n}","map":{"version":3,"sources":["/Users/tengizusupov/Documents/KursIT/front/src/pages/Login.js"],"names":["React","useState","axios","Login","props","login","toLogin","setToLogin","SubLogin","toRegister","username","setUsername","handleLogin","e","preventDefault","res","post","auth","data","_id","creator","target","value","SubRegister","setCreator","handleRegister","_"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\nimport axios from \"axios\";\n\nexport default function Login(props) {\n\tconst {login} = props\n\tconst [toLogin, setToLogin] = useState(true)\n\n\treturn(<div className=\"container\">\n\t    {(toLogin)?\n\t    \t<SubLogin toRegister={()=>setToLogin(false)} login={login}/>\n\t    \t:\n\t    \t<SubRegister toLogin={()=>setToLogin(true)}/>\n\t    }\n\t</div>)\n}\n\nfunction SubLogin(props) {\n\tconst {toRegister, login} = props\n\tconst [username, setUsername] = useState(\"\")\n\n\tconst handleLogin = async (e) => {\n\t\te.preventDefault()\n\t\tconst res = await axios.post(\"/users/login\", {username})\n\t\tconst auth = res.data\n\t\tif (auth) login(auth._id, auth.creator)\n\t}\n\n\treturn(<form className=\"col s12\">\n\t    <div className=\"input-field row\">\n\t\t    <input \n\t\t    className=\"input-field col s12\" \n\t\t    type=\"text\" \n\t\t    id=\"username\"\n\t\t    value={username}\n\t\t    onChange={(e)=>setUsername(e.target.value)}\n\t\t    />\n\t    \t<label htmlFor=\"username\">Логин...</label>\n\t    </div>\n\t    <div className=\"row\">\n\t\t    <div className=\"col s1\">\n\t\t\t    <button className=\"btn waves-effect waves-light\"\n\t\t\t    onClick={(e)=>handleLogin(e)}\n\t\t\t    >\n\t\t\t\t  Войти\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t    <div className=\"col s1\">\n\t\t\t    <button className=\"btn waves-effect waves-light\"\n\t\t\t    onClick={(e)=>toRegister(e)}\n\t\t\t    >\n\t\t\t\t  Регистрация\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t</form>)\n}\n\nfunction SubRegister(props) {\n\tconst {toLogin} = props\n\tconst [username, setUsername] = useState(\"\")\n\tconst [creator, setCreator] = useState(false)\n\t\n\tconst handleRegister = async (e) => {\n\t\te.preventDefault()\n\t\tawait axios.post(\"/users/register\", {username, creator})\n\t\ttoLogin()\n\t}\n\n\treturn(<form className=\"col s12\">\n\t    <div className=\"input-field row\">\n\t\t    <input \n\t\t    className=\"input-field col s12\" \n\t\t    type=\"text\" \n\t\t    id=\"username\"\n\t\t    value={username}\n\t\t    onChange={(e)=>setUsername(e.target.value)}\n\t\t    />\n\t    \t<label htmlFor=\"username\">Логин...</label>\n\t    </div>\n\t    <p>\n\t\t\t\t<label>\n\t\t\t\t  <input \n\t\t\t\t\ttype=\"checkbox\" \n\t\t\t\t\tvalue={creator} \n\t\t\t\t\t  onClick={_=>setCreator(e => !e)}\n\t\t\t\t  />\n\t\t\t\t  <span>Редактор</span>\n\t\t\t\t</label>\n\t    </p>\n\t    <div className=\"row\">\n\t\t    <div className=\"col s2\">\n\t\t\t    <button className=\"btn waves-effect waves-light\"\n\t\t\t    onClick={(e)=>handleRegister(e)}\n\t\t\t    >\n\t\t\t\t  Зарегестрировать\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t    <div className=\"col s2\">\n\t\t\t    <button className=\"btn waves-effect waves-light\"\n\t\t\t    onClick={(e)=>toLogin(e)}\n\t\t\t    >\n\t\t\t\t  Назад\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t</form>)\n}\n"]},"metadata":{},"sourceType":"module"}