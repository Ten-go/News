{"ast":null,"code":"import { useState, useEffect, useCallback } from \"react\";\nexport default function useAuth() {\n  const [auth, setAuth] = useState(null);\n  const [ready, setReady] = useState(false);\n  const login = useCallback((id, creator) => {\n    const myAuth = {\n      id: id,\n      creator: creator\n    };\n    localStorage.setItem('myAuth', JSON.stringify(myAuth));\n    setAuth(myAuth);\n  }, []);\n  const logout = useCallback(() => {\n    localStorage.removeItem('myAuth');\n    setAuth(false);\n  }, []);\n  useEffect(() => {\n    console.log(auth);\n    if (auth) return;\n    const key = localStorage.getItem('myAuth');\n    if (key) setAuth(JSON.parse(key));else console.log(\"нет ключа\");\n    setReady(true);\n  }, [auth]);\n  return {\n    auth,\n    login,\n    logout,\n    ready\n  };\n}","map":{"version":3,"sources":["/Users/tengizusupov/Documents/KursIT/front/src/hook/index.js"],"names":["useState","useEffect","useCallback","useAuth","auth","setAuth","ready","setReady","login","id","creator","myAuth","localStorage","setItem","JSON","stringify","logout","removeItem","console","log","key","getItem","parse"],"mappings":"AAAA,SAAQA,QAAR,EAAkBC,SAAlB,EAA6BC,WAA7B,QAA+C,OAA/C;AAEA,eAAe,SAASC,OAAT,GAAmB;AAC9B,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBL,QAAQ,CAAC,IAAD,CAAhC;AACA,QAAM,CAACM,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,KAAD,CAAlC;AAEA,QAAMQ,KAAK,GAAGN,WAAW,CAAC,CAACO,EAAD,EAAKC,OAAL,KAAiB;AACvC,UAAMC,MAAM,GAAG;AAACF,MAAAA,EAAE,EAAEA,EAAL;AAASC,MAAAA,OAAO,EAAEA;AAAlB,KAAf;AACAE,IAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+BC,IAAI,CAACC,SAAL,CAAeJ,MAAf,CAA/B;AACAN,IAAAA,OAAO,CAACM,MAAD,CAAP;AACH,GAJwB,EAIvB,EAJuB,CAAzB;AAMA,QAAMK,MAAM,GAAId,WAAW,CAAC,MAAM;AAC9BU,IAAAA,YAAY,CAACK,UAAb,CAAwB,QAAxB;AACAZ,IAAAA,OAAO,CAAC,KAAD,CAAP;AACH,GAH0B,EAGxB,EAHwB,CAA3B;AAKAJ,EAAAA,SAAS,CAAC,MAAI;AACNiB,IAAAA,OAAO,CAACC,GAAR,CAAYf,IAAZ;AACJ,QAAIA,IAAJ,EAAU;AACV,UAAMgB,GAAG,GAAGR,YAAY,CAACS,OAAb,CAAqB,QAArB,CAAZ;AACA,QAAID,GAAJ,EAASf,OAAO,CAACS,IAAI,CAACQ,KAAL,CAAWF,GAAX,CAAD,CAAP,CAAT,KACSF,OAAO,CAACC,GAAR,CAAY,WAAZ;AACTZ,IAAAA,QAAQ,CAAC,IAAD,CAAR;AACH,GAPQ,EAOP,CAACH,IAAD,CAPO,CAAT;AASA,SAAO;AAACA,IAAAA,IAAD;AAAOI,IAAAA,KAAP;AAAcQ,IAAAA,MAAd;AAAsBV,IAAAA;AAAtB,GAAP;AACH","sourcesContent":["import {useState, useEffect, useCallback} from \"react\";\n\nexport default function useAuth() {\n    const [auth, setAuth] = useState(null)\n    const [ready, setReady] = useState(false)\n\n    const login = useCallback((id, creator) => {\n        const myAuth = {id: id, creator: creator}\n        localStorage.setItem('myAuth', JSON.stringify(myAuth))\n        setAuth(myAuth)\n    },[]) \n\n    const logout =  useCallback(() => {\n        localStorage.removeItem('myAuth')\n        setAuth(false)\n    }, [])\n\n    useEffect(()=>{\n            console.log(auth)\n        if (auth) return\n        const key = localStorage.getItem('myAuth')\n        if (key) setAuth(JSON.parse(key))\n            else console.log(\"нет ключа\")\n        setReady(true)\n    },[auth])\n\n    return {auth, login, logout, ready}\n}"]},"metadata":{},"sourceType":"module"}